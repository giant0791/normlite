

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>normlite.txmodel.transaction &mdash; normlite 0.6.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/custom.css?v=f7e3ec4f" />

  
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=8fa8b3e9"></script>
      <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="prev" title="normlite.txmodel.operations" href="../operations/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            normlite
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../changelog.html">Changelog</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">normlite</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../connection/index.html">normlite.connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cursor/index.html">normlite.cursor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../engine/index.html">normlite.engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../exceptions/index.html">normlite.exceptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../future/index.html">normlite.future</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../notion_sdk/index.html">normlite.notion_sdk</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../notiondbapi/index.html">normlite.notiondbapi</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proxy/index.html">normlite.proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql/index.html">normlite.sql</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../index.html">normlite.txmodel</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">normlite</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">normlite</a></li>
          <li class="breadcrumb-item"><a href="../index.html">normlite.txmodel</a></li>
      <li class="breadcrumb-item active">normlite.txmodel.transaction</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/autoapi/normlite/txmodel/transaction/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-normlite.txmodel.transaction">
<span id="normlite-txmodel-transaction"></span><h1>normlite.txmodel.transaction<a class="headerlink" href="#module-normlite.txmodel.transaction" title="Link to this heading"></a></h1>
<p>Provide transaction management for Notion integrations.</p>
<p>This module adds transaction management to Notion integrations. It enables multiple clients to
concurrently perform changes while maintaining atomicity, consistency, isolation and durability.
It achieves this by implementing shared and exclusive locking mechanisms and isolation levels.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This module is at a very early stage of proof-of-concept. Do not use it yet!</p>
</div>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading"></a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.TransactionError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">normlite.txmodel.transaction.</span></span><span class="sig-name descname"><span class="pre">TransactionError</span></span><a class="reference internal" href="../../../../_modules/normlite/txmodel/transaction.html#TransactionError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.txmodel.transaction.TransactionError" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="../../exceptions/index.html#normlite.exceptions.NormliteError" title="normlite.exceptions.NormliteError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">normlite.exceptions.NormliteError</span></code></a></p>
<p>Base exception class for all <code class="docutils literal notranslate"><span class="pre">normlite</span></code> exceptions.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.LockMode">
<span class="sig-prename descclassname"><span class="pre">normlite.txmodel.transaction.</span></span><span class="sig-name descname"><span class="pre">LockMode</span></span><a class="headerlink" href="#normlite.txmodel.transaction.LockMode" title="Link to this definition"></a></dt>
<dd><p>Type for lock modes.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.TransactionState">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">normlite.txmodel.transaction.</span></span><span class="sig-name descname"><span class="pre">TransactionState</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/normlite/txmodel/transaction.html#TransactionState"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.txmodel.transaction.TransactionState" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>Provide a transition state <code class="docutils literal notranslate"><span class="pre">enum</span></code> to describe the possible states of a transaction.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.TransactionState.ACTIVE">
<span class="sig-name descname"><span class="pre">ACTIVE</span></span><a class="headerlink" href="#normlite.txmodel.transaction.TransactionState.ACTIVE" title="Link to this definition"></a></dt>
<dd><p>It is the first stage of any transaction when it has begun to execute.
The execution of the transaction takes place in this state.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.TransactionState.PARTIALLY_COMMITTED">
<span class="sig-name descname"><span class="pre">PARTIALLY_COMMITTED</span></span><a class="headerlink" href="#normlite.txmodel.transaction.TransactionState.PARTIALLY_COMMITTED" title="Link to this definition"></a></dt>
<dd><p>The transaction has finished its final operation,
but the changes are still not saved to the database.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.TransactionState.COMMITTED">
<span class="sig-name descname"><span class="pre">COMMITTED</span></span><a class="headerlink" href="#normlite.txmodel.transaction.TransactionState.COMMITTED" title="Link to this definition"></a></dt>
<dd><p>All the transaction-related operations have been executed successfully, i.e. data is saved
into the database after the required manipulations in this state.
This marks the successful completion of a transaction.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.TransactionState.FAILED">
<span class="sig-name descname"><span class="pre">FAILED</span></span><a class="headerlink" href="#normlite.txmodel.transaction.TransactionState.FAILED" title="Link to this definition"></a></dt>
<dd><p>If any of the transaction-related operations cause an error during the active or
partially committed state, further execution of the transaction is stopped and
it is brought into a failed state.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.TransactionState.ABORTED">
<span class="sig-name descname"><span class="pre">ABORTED</span></span><a class="headerlink" href="#normlite.txmodel.transaction.TransactionState.ABORTED" title="Link to this definition"></a></dt>
<dd><p>When the transaction is failed, it will attempt to either rollback the transaction
in order to keep the database consistent. Upon successfull completion of the rollback,
the transaction enters the aborted state.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.6.0.</span></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.AcquireLockFailed">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">normlite.txmodel.transaction.</span></span><span class="sig-name descname"><span class="pre">AcquireLockFailed</span></span><a class="reference internal" href="../../../../_modules/normlite/txmodel/transaction.html#AcquireLockFailed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.txmodel.transaction.AcquireLockFailed" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Raised when an attempt to acquire a lock for a given resource fails.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.LockManager">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">normlite.txmodel.transaction.</span></span><span class="sig-name descname"><span class="pre">LockManager</span></span><a class="reference internal" href="../../../../_modules/normlite/txmodel/transaction.html#LockManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.txmodel.transaction.LockManager" title="Link to this definition"></a></dt>
<dd><p>Track which transactions hold locks on which resources and enforce access rules.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.6.0.</span></p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.LockManager.locks">
<span class="sig-name descname"><span class="pre">locks</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">LockMode</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#normlite.txmodel.transaction.LockManager.locks" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.LockManager.acquire">
<span class="sig-name descname"><span class="pre">acquire</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">LockMode</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/txmodel/transaction.html#LockManager.acquire"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.txmodel.transaction.LockManager.acquire" title="Link to this definition"></a></dt>
<dd><p>Try to acquire a lock for the requested resource and for the requesting transaction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oid</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The object id to be locked.</p></li>
<li><p><strong>tid</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The id of the transaction requisting the lock.</p></li>
<li><p><strong>mode</strong> (<em>LockMode</em>) – The lock mode.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#normlite.txmodel.transaction.AcquireLockFailed" title="normlite.txmodel.transaction.AcquireLockFailed"><strong>AcquireLockFailed</strong></a> – If the lock request cannot be served.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.LockManager.release">
<span class="sig-name descname"><span class="pre">release</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tx_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/txmodel/transaction.html#LockManager.release"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.txmodel.transaction.LockManager.release" title="Link to this definition"></a></dt>
<dd><p>Release all locks held by the requesting transaction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tid</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The id of the requesting transaction.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.Transaction">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">normlite.txmodel.transaction.</span></span><span class="sig-name descname"><span class="pre">Transaction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">lock_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#normlite.txmodel.transaction.LockManager" title="normlite.txmodel.transaction.LockManager"><span class="pre">LockManager</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/normlite/txmodel/transaction.html#Transaction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.txmodel.transaction.Transaction" title="Link to this definition"></a></dt>
<dd><p>Provide a context to holds a list of change operations, their lock requirements,
and rollback logic.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Initial implementation. UNSTABLE.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.6.0.</span></p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.Transaction.tid">
<span class="sig-name descname"><span class="pre">tid</span></span><a class="headerlink" href="#normlite.txmodel.transaction.Transaction.tid" title="Link to this definition"></a></dt>
<dd><p>The unique transaction identifier (UUIDv4).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.Transaction.lock_manager">
<span class="sig-name descname"><span class="pre">lock_manager</span></span><a class="headerlink" href="#normlite.txmodel.transaction.Transaction.lock_manager" title="Link to this definition"></a></dt>
<dd><p>The lock manager to ensure locking mechanisms.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.Transaction.operations">
<span class="sig-name descname"><span class="pre">operations</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">LockMode</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../operations/index.html#normlite.txmodel.operations.Operation" title="normlite.txmodel.operations.Operation"><span class="pre">normlite.txmodel.operations.Operation</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#normlite.txmodel.transaction.Transaction.operations" title="Link to this definition"></a></dt>
<dd><p>The list of operations to be committed/rollbacked in the context of this transaction.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.Transaction.state">
<span class="sig-name descname"><span class="pre">state</span></span><a class="headerlink" href="#normlite.txmodel.transaction.Transaction.state" title="Link to this definition"></a></dt>
<dd><p>The transaction state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.Transaction.add_change">
<span class="sig-name descname"><span class="pre">add_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">LockMode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../operations/index.html#normlite.txmodel.operations.Operation" title="normlite.txmodel.operations.Operation"><span class="pre">normlite.txmodel.operations.Operation</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/txmodel/transaction.html#Transaction.add_change"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.txmodel.transaction.Transaction.add_change" title="Link to this definition"></a></dt>
<dd><p>Add a change request in the context of this transactions.</p>
<p>Transactions track the list of changes they have to perform.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The resource id subject of the change.</p></li>
<li><p><strong>mode</strong> (<em>LockMode</em>) – The requested locking mode.</p></li>
<li><p><strong>operation</strong> (<a class="reference internal" href="../operations/index.html#normlite.txmodel.operations.Operation" title="normlite.txmodel.operations.Operation"><em>Operation</em></a>) – The operation to carry out the requested change.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.Transaction.commit">
<span class="sig-name descname"><span class="pre">commit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/txmodel/transaction.html#Transaction.commit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.txmodel.transaction.Transaction.commit" title="Link to this definition"></a></dt>
<dd><p>Commit the transaction.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#normlite.txmodel.transaction.TransactionError" title="normlite.txmodel.transaction.TransactionError"><strong>TransactionError</strong></a> – If this method is called on a transaction not in state active.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.Transaction.rollback">
<span class="sig-name descname"><span class="pre">rollback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/txmodel/transaction.html#Transaction.rollback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.txmodel.transaction.Transaction.rollback" title="Link to this definition"></a></dt>
<dd><p>Rollback the transaction.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#normlite.txmodel.transaction.TransactionError" title="normlite.txmodel.transaction.TransactionError"><strong>TransactionError</strong></a> – If this method is called on a transaction in state aborted.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.TransactionManager">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">normlite.txmodel.transaction.</span></span><span class="sig-name descname"><span class="pre">TransactionManager</span></span><a class="reference internal" href="../../../../_modules/normlite/txmodel/transaction.html#TransactionManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.txmodel.transaction.TransactionManager" title="Link to this definition"></a></dt>
<dd><p>Procure and coordinate transactions, lock acquisition, and lifecycle (start/commit/rollback).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Initial implementation, UNSTABLE.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.6.0.</span></p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.TransactionManager.lock_manager">
<span class="sig-name descname"><span class="pre">lock_manager</span></span><a class="headerlink" href="#normlite.txmodel.transaction.TransactionManager.lock_manager" title="Link to this definition"></a></dt>
<dd><p>The lock manager.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.TransactionManager.active_txs">
<span class="sig-name descname"><span class="pre">active_txs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#normlite.txmodel.transaction.Transaction" title="normlite.txmodel.transaction.Transaction"><span class="pre">Transaction</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#normlite.txmodel.transaction.TransactionManager.active_txs" title="Link to this definition"></a></dt>
<dd><p>The active transactions the manager orchestrates.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.txmodel.transaction.TransactionManager.begin">
<span class="sig-name descname"><span class="pre">begin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#normlite.txmodel.transaction.Transaction" title="normlite.txmodel.transaction.Transaction"><span class="pre">Transaction</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/txmodel/transaction.html#TransactionManager.begin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.txmodel.transaction.TransactionManager.begin" title="Link to this definition"></a></dt>
<dd><p>Procure a new transaction.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The transaction manager is repsonsible to assign to each created transaction a unique id.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A new transaction.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#normlite.txmodel.transaction.Transaction" title="normlite.txmodel.transaction.Transaction">Transaction</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../operations/index.html" class="btn btn-neutral float-left" title="normlite.txmodel.operations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025 -Gianmarco Antonini.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>