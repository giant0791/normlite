

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>normlite.engine.base &mdash; normlite 0.6.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/custom.css?v=f7e3ec4f" />

  
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=8fa8b3e9"></script>
      <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="normlite.engine.context" href="../context/index.html" />
    <link rel="prev" title="normlite.engine" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            normlite
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../changelog.html">Changelog</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">normlite</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../_constants/index.html">normlite._constants</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cursor/index.html">normlite.cursor</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../index.html">normlite.engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../exceptions/index.html">normlite.exceptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../future/index.html">normlite.future</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../notion_sdk/index.html">normlite.notion_sdk</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../notiondbapi/index.html">normlite.notiondbapi</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../proxy/index.html">normlite.proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql/index.html">normlite.sql</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../txmodel/index.html">normlite.txmodel</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">normlite</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">normlite</a></li>
          <li class="breadcrumb-item"><a href="../index.html">normlite.engine</a></li>
      <li class="breadcrumb-item active">normlite.engine.base</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/autoapi/normlite/engine/base/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-normlite.engine.base">
<span id="normlite-engine-base"></span><h1>normlite.engine.base<a class="headerlink" href="#module-normlite.engine.base" title="Link to this heading"></a></h1>
<p>Establish the foundational engine layer for connecting to Notion or
simulated integrations (:memory:, file-based).</p>
<p>Here a quick example of how to use <a class="reference internal" href="#normlite.engine.base.Engine" title="normlite.engine.base.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> and <a class="reference internal" href="#normlite.engine.base.Connection" title="normlite.engine.base.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">normlite</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_engine</span><span class="p">,</span> <span class="n">Engine</span><span class="p">,</span> <span class="n">Connection</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">normlite</span><span class="w"> </span><span class="kn">import</span> <span class="n">MetaData</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Table</span><span class="p">,</span> <span class="n">CreateTable</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">normlite</span><span class="w"> </span><span class="kn">import</span> <span class="n">insert</span><span class="p">,</span> <span class="n">Insert</span>

<span class="c1"># create the engine to interact with Notion (use in-memory client version)</span>
<span class="n">engine</span><span class="p">:</span> <span class="n">Engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">&#39;normlite///:memory&#39;</span><span class="p">)</span>

<span class="c1"># create database schema</span>
<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>
<span class="n">students</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s1">&#39;students&#39;</span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="n">is_title</span><span class="o">=</span><span class="kc">True</span><span class="p">)),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;grade&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">()),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;student_id&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="p">()),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;registered_since&#39;</span><span class="p">,</span> <span class="n">Date</span><span class="p">()),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">,</span> <span class="n">Boolean</span><span class="p">())</span>
<span class="p">)</span>

<span class="c1"># connect to the Notion store</span>
<span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="c1"># create DDL CREATE TABLE statement and</span>
    <span class="c1"># create the table students</span>
    <span class="n">ddl_stmt</span><span class="p">:</span> <span class="n">CreateTable</span> <span class="o">=</span> <span class="n">CreateTable</span><span class="p">(</span><span class="n">students</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">ddl_stmt</span><span class="p">)</span>

    <span class="c1"># add some rows</span>
    <span class="n">dml_stmt</span><span class="p">:</span> <span class="n">Insert</span> <span class="o">=</span> <span class="n">insert</span><span class="p">(</span><span class="n">students</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Galileo Galilei&#39;</span><span class="p">,</span>
        <span class="n">grade</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span>
        <span class="n">student_id</span><span class="o">=</span><span class="mi">123456</span><span class="p">,</span>
        <span class="n">registered_since</span><span class="o">=</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1580</span><span class="p">,</span> <span class="mi">09</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="p">),</span>
        <span class="n">active</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>
    <span class="n">result</span><span class="p">:</span> <span class="n">CursorResult</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">dml_stmt</span><span class="p">)</span>

    <span class="c1"># access data returned by the DML statement excution</span>
    <span class="n">row</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="n">SpecialColumns</span><span class="o">.</span><span class="n">NO_ID</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>             <span class="c1"># &#39;680dee41-b447-451d-9d36-c6eaff13fb45&#39;</span>
</pre></div>
</div>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="normlite.engine.base.Connection">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">normlite.engine.base.</span></span><span class="sig-name descname"><span class="pre">Connection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#normlite.engine.base.Engine" title="normlite.engine.base.Engine"><span class="pre">Engine</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Connection" title="Link to this definition"></a></dt>
<dd><p>Provide high level API to a connection to Notion databases.</p>
<p>This class delegates the low level implementation of its methods to the DBAPI counterpart
<code class="xref py py-class docutils literal notranslate"><span class="pre">dbapi2.Connection</span></code>.
The <a class="reference internal" href="#normlite.engine.base.Connection" title="normlite.engine.base.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> object is procured by calling the <a class="reference internal" href="#normlite.engine.base.Engine.connect" title="normlite.engine.base.Engine.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.connect()</span></code></a> method of
the <a class="reference internal" href="#normlite.engine.base.Engine" title="normlite.engine.base.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> class, and provides services for execution of SQL statements.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.7.0: </span>This version implements the <code class="docutils literal notranslate"><span class="pre">autocommit</span></code> isolation level.
The transaction management methods like <a class="reference internal" href="#normlite.engine.base.Connection.commit" title="normlite.engine.base.Connection.commit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">commit()</span></code></a> and <a class="reference internal" href="#normlite.engine.base.Connection.rollback" title="normlite.engine.base.Connection.rollback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rollback()</span></code></a> have been
added but do nothing.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.Connection._engine">
<span class="sig-name descname"><span class="pre">_engine</span></span><a class="headerlink" href="#normlite.engine.base.Connection._engine" title="Link to this definition"></a></dt>
<dd><p>The engine used to procure the underlying DBAPI connection.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="normlite.engine.base.Connection.connection">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connection</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="../../notiondbapi/dbapi2/index.html#normlite.notiondbapi.dbapi2.Connection" title="normlite.notiondbapi.dbapi2.Connection"><span class="pre">normlite.notiondbapi.dbapi2.Connection</span></a></em><a class="headerlink" href="#normlite.engine.base.Connection.connection" title="Link to this definition"></a></dt>
<dd><p>Provide the underlying DBAPI connection managed by this connection object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Connection.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stmt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../sql/base/index.html#normlite.sql.base.Executable" title="normlite.sql.base.Executable"><span class="pre">normlite.sql.base.Executable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../cursor/index.html#normlite.cursor.CursorResult" title="normlite.cursor.CursorResult"><span class="pre">normlite.cursor.CursorResult</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Connection.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Connection.execute" title="Link to this definition"></a></dt>
<dd><p>Execute an SQL statement.</p>
<p>This method executes both DML and DDL statements in an enclosing (implicit) transaction.
When it is called for the first time, it sets up the enclosing transaction.
All subsequent calls to this method add the statements to the enclosing transaction.
Use either <a class="reference internal" href="#normlite.engine.base.Connection.commit" title="normlite.engine.base.Connection.commit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">commit()</span></code></a> to commit the changes permanently or <a class="reference internal" href="#normlite.engine.base.Connection.rollback" title="normlite.engine.base.Connection.rollback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rollback()</span></code></a> to
rollback.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Non-mutating</strong> statements like <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> returns their result immediately after the
<a class="reference internal" href="#normlite.engine.base.Connection.execute" title="normlite.engine.base.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a> returns. All <strong>mutating</strong> statements like <code class="docutils literal notranslate"><span class="pre">INSERT</span></code>
(see <a class="reference internal" href="../../sql/dml/index.html#normlite.sql.dml.Insert" title="normlite.sql.dml.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">normlite.sql.dml.Insert</span></code></a>),``UPDATE`` or <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> return an
<strong>empty</strong> result immediately.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The cursor result object associated with the last <a class="reference internal" href="#normlite.engine.base.Connection.execute" title="normlite.engine.base.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a> contains
a single result set of the last statement executed.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stmt</strong> (<a class="reference internal" href="../../sql/base/index.html#normlite.sql.base.Executable" title="normlite.sql.base.Executable"><em>Executable</em></a>) – The statement to execute.</p></li>
<li><p><strong>parameters</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>]</em>) – An optional dictionary containing the parameters to be
bound to the SQL statement.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The result of the statement execution as cursor result.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../../cursor/index.html#normlite.cursor.CursorResult" title="normlite.cursor.CursorResult">CursorResult</a></p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.7.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Connection.commit">
<span class="sig-name descname"><span class="pre">commit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Connection.commit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Connection.commit" title="Link to this definition"></a></dt>
<dd><p>Commit the transaction currently in progress.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Work in progress. This method currently does nothing.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Connection.rollback">
<span class="sig-name descname"><span class="pre">rollback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Connection.rollback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Connection.rollback" title="Link to this definition"></a></dt>
<dd><p>Rollback the transaction currently in progress.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Work in progress. This method currently does nothing.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Connection.__enter__">
<span class="sig-name descname"><span class="pre">__enter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#normlite.engine.base.Connection" title="normlite.engine.base.Connection"><span class="pre">Connection</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Connection.__enter__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Connection.__enter__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Connection.__exit__">
<span class="sig-name descname"><span class="pre">__exit__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">traceback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Connection.__exit__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Connection.__exit__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="normlite.engine.base.NotionAuthURI">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">normlite.engine.base.</span></span><span class="sig-name descname"><span class="pre">NotionAuthURI</span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#NotionAuthURI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.NotionAuthURI" title="Link to this definition"></a></dt>
<dd><p>Provide a helper data structure to hold URI schema elements for an internal or external Notion integration.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Experimental code! Do not use!</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.NotionAuthURI.kind">
<span class="sig-name descname"><span class="pre">kind</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'internal'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'external'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#normlite.engine.base.NotionAuthURI.kind" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.NotionAuthURI.token">
<span class="sig-name descname"><span class="pre">token</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#normlite.engine.base.NotionAuthURI.token" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.NotionAuthURI.version">
<span class="sig-name descname"><span class="pre">version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#normlite.engine.base.NotionAuthURI.version" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.NotionAuthURI.client_id">
<span class="sig-name descname"><span class="pre">client_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#normlite.engine.base.NotionAuthURI.client_id" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.NotionAuthURI.client_secret">
<span class="sig-name descname"><span class="pre">client_secret</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#normlite.engine.base.NotionAuthURI.client_secret" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.NotionAuthURI.auth_url">
<span class="sig-name descname"><span class="pre">auth_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#normlite.engine.base.NotionAuthURI.auth_url" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="normlite.engine.base.NotionSimulatedURI">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">normlite.engine.base.</span></span><span class="sig-name descname"><span class="pre">NotionSimulatedURI</span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#NotionSimulatedURI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.NotionSimulatedURI" title="Link to this definition"></a></dt>
<dd><p>Provide an a helper data structure to hold URI schema elements for test integrations.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.NotionSimulatedURI.kind">
<span class="sig-name descname"><span class="pre">kind</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'simulated'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#normlite.engine.base.NotionSimulatedURI.kind" title="Link to this definition"></a></dt>
<dd><p>The kind of the integration.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.NotionSimulatedURI.mode">
<span class="sig-name descname"><span class="pre">mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'memory'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'file'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#normlite.engine.base.NotionSimulatedURI.mode" title="Link to this definition"></a></dt>
<dd><p>The mode the integration.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.NotionSimulatedURI.path">
<span class="sig-name descname"><span class="pre">path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#normlite.engine.base.NotionSimulatedURI.path" title="Link to this definition"></a></dt>
<dd><p>The path to the database file (<code class="docutils literal notranslate"><span class="pre">None</span></code> for in-memory integrations).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.NotionSimulatedURI.file">
<span class="sig-name descname"><span class="pre">file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#normlite.engine.base.NotionSimulatedURI.file" title="Link to this definition"></a></dt>
<dd><p>The database file name (<code class="docutils literal notranslate"><span class="pre">None</span></code> for in-memory integrations).</p>
</dd></dl>

</dd></dl>

<dl class="py type">
<dt class="sig sig-object py" id="normlite.engine.base.NotionURI">
<em class="property"><span class="k"><span class="pre">type</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">normlite.engine.base.</span></span><span class="sig-name descname"><span class="pre">NotionURI</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#normlite.engine.base.NotionAuthURI" title="normlite.engine.base.NotionAuthURI"><span class="pre">NotionAuthURI</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#normlite.engine.base.NotionSimulatedURI" title="normlite.engine.base.NotionSimulatedURI"><span class="pre">NotionSimulatedURI</span></a></em><a class="headerlink" href="#normlite.engine.base.NotionURI" title="Link to this definition"></a></dt>
<dd><p>Type for the URI.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="normlite.engine.base._parse_uri">
<span class="sig-prename descclassname"><span class="pre">normlite.engine.base.</span></span><span class="sig-name descname"><span class="pre">_parse_uri</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uri</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">NotionURI</span></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#_parse_uri"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base._parse_uri" title="Link to this definition"></a></dt>
<dd><p>Provide helper function to parse a normlite URI.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="normlite.engine.base.create_engine">
<span class="sig-prename descclassname"><span class="pre">normlite.engine.base.</span></span><span class="sig-name descname"><span class="pre">create_engine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uri</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#normlite.engine.base.Engine" title="normlite.engine.base.Engine"><span class="pre">Engine</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#create_engine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.create_engine" title="Link to this definition"></a></dt>
<dd><p>Create a new engine proxy object to connect and interact to the Notion integration denoted by the supplied URI.</p>
<p>This is a factory function to create :class:<code class="docutils literal notranslate"><span class="pre">Engine</span></code> proxy object based on the parameters
specified in the supplied URI.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">normlite</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_engine</span>

<span class="c1"># procure an Engine object for connecting to a Notion internal integration</span>
<span class="n">NOTION_TOKEN</span> <span class="o">=</span> <span class="s1">&#39;secret-token&#39;</span>
<span class="n">NOTION_VERSION</span> <span class="o">=</span> <span class="s1">&#39;2022-06-28&#39;</span>

<span class="n">engine</span><span class="p">:</span> <span class="n">Engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span>
    <span class="sa">f</span><span class="s1">&#39;normlite+auth://internal?token=</span><span class="si">{</span><span class="n">NOTION_TOKEN</span><span class="si">}</span><span class="s1">&amp;version=</span><span class="si">{</span><span class="n">NOTION_VERSION</span><span class="si">}</span><span class="s1">&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>uri</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – The URI denoting the integration to connect to.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The engine proxy object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#normlite.engine.base.Engine" title="normlite.engine.base.Engine">Engine</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="normlite.engine.base.Engine">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">normlite.engine.base.</span></span><span class="sig-name descname"><span class="pre">Engine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uri</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NotionURI</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Engine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Engine" title="Link to this definition"></a></dt>
<dd><p>Provide a convenient proxy object of database connectivity to Notion integrations.</p>
<p>An <a class="reference internal" href="#normlite.engine.base.Engine" title="normlite.engine.base.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> object is instantiated by the factory <a class="reference internal" href="#normlite.engine.base.create_engine" title="normlite.engine.base.create_engine"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_engine()</span></code></a>.</p>
<p>Examples of possible future extensions:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a proxy object to a :memory: integration</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">&#39;normlite::///:memory:&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a proxy object to a Notion internal integration</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">NOTION_TOKEN</span> <span class="o">=</span> <span class="s1">&#39;secret-token&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">NOTION_VERSION</span> <span class="o">=</span> <span class="s1">&#39;2022-06-28&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;normlite+auth://internal?token=</span><span class="si">{</span><span class="n">NOTION_TOKEN</span><span class="si">}</span><span class="s1">&amp;version=</span><span class="si">{</span><span class="n">NOTION_VERSION</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._uri">
<span class="sig-name descname"><span class="pre">_uri</span></span><a class="headerlink" href="#normlite.engine.base.Engine._uri" title="Link to this definition"></a></dt>
<dd><p>The Notion URI denoting the integration to connect to.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._database">
<span class="sig-name descname"><span class="pre">_database</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#normlite.engine.base.Engine._database" title="Link to this definition"></a></dt>
<dd><p>For simulated URIs, <code class="docutils literal notranslate"><span class="pre">memory</span></code> if mode is memory, the file name without extension if mode is file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>The database name</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._db_page_id">
<span class="sig-name descname"><span class="pre">_db_page_id</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#normlite.engine.base.Engine._db_page_id" title="Link to this definition"></a></dt>
<dd><p>The page id for the database this engine is connected to.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._ws_id">
<span class="sig-name descname"><span class="pre">_ws_id</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#normlite.engine.base.Engine._ws_id" title="Link to this definition"></a></dt>
<dd><p>The workspace id to which all the pages are added to.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._ischema_page_id">
<span class="sig-name descname"><span class="pre">_ischema_page_id</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#normlite.engine.base.Engine._ischema_page_id" title="Link to this definition"></a></dt>
<dd><p>Id for the information schema page.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._tables_id">
<span class="sig-name descname"><span class="pre">_tables_id</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#normlite.engine.base.Engine._tables_id" title="Link to this definition"></a></dt>
<dd><p>Id for the Notion database tables.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._client">
<span class="sig-name descname"><span class="pre">_client</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#normlite.engine.base.Engine._client" title="Link to this definition"></a></dt>
<dd><p>The Notion client this engine interacts with.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._init_client">
<span class="sig-name descname"><span class="pre">_init_client</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#normlite.engine.base.Engine._init_client" title="Link to this definition"></a></dt>
<dd><p>Whether the client shall be initialized with the <code class="docutils literal notranslate"><span class="pre">normlite</span></code> datastructures. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._isolation_level">
<span class="sig-name descname"><span class="pre">_isolation_level</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">normlite.notiondbapi.dbapi2.IsolationLevel</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'AUTOCOMMIT'</span></em><a class="headerlink" href="#normlite.engine.base.Engine._isolation_level" title="Link to this definition"></a></dt>
<dd><p>Isolation level for transactions. Defaults to <code class="docutils literal notranslate"><span class="pre">AUTOCOMMIT</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._dbapi_connection">
<span class="sig-name descname"><span class="pre">_dbapi_connection</span></span><a class="headerlink" href="#normlite.engine.base.Engine._dbapi_connection" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._sql_compiler">
<span class="sig-name descname"><span class="pre">_sql_compiler</span></span><a class="headerlink" href="#normlite.engine.base.Engine._sql_compiler" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._process_args">
<span class="sig-name descname"><span class="pre">_process_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Engine._process_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Engine._process_args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._create_client">
<span class="sig-name descname"><span class="pre">_create_client</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uri</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#normlite.engine.base.NotionSimulatedURI" title="normlite.engine.base.NotionSimulatedURI"><span class="pre">NotionSimulatedURI</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Engine._create_client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Engine._create_client" title="Link to this definition"></a></dt>
<dd><p>Provide helper method to instantiate the correct client based on the URI provided.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Engine.inspect">
<span class="sig-name descname"><span class="pre">inspect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#normlite.engine.base.Inspector" title="normlite.engine.base.Inspector"><span class="pre">Inspector</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Engine.inspect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Engine.inspect" title="Link to this definition"></a></dt>
<dd><p>Return an inspector object.</p>
<p>Factory method to procure <a class="reference internal" href="#normlite.engine.base.Inspector" title="normlite.engine.base.Inspector"><code class="xref py py-class docutils literal notranslate"><span class="pre">Inspector</span></code></a> objects.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.7.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._init_info_schema">
<span class="sig-name descname"><span class="pre">_init_info_schema</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Engine._init_info_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Engine._init_info_schema" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._init_tables">
<span class="sig-name descname"><span class="pre">_init_tables</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Engine._init_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Engine._init_tables" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._init_database">
<span class="sig-name descname"><span class="pre">_init_database</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Engine._init_database"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Engine._init_database" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Engine._add_table">
<span class="sig-name descname"><span class="pre">_add_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Engine._add_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Engine._add_table" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Engine.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#normlite.engine.base.Connection" title="normlite.engine.base.Connection"><span class="pre">Connection</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Engine.connect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Engine.connect" title="Link to this definition"></a></dt>
<dd><p>Procure a new <a class="reference internal" href="#normlite.engine.base.Connection" title="normlite.engine.base.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Engine.raw_connection">
<span class="sig-name descname"><span class="pre">raw_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#normlite.engine.base.Connection" title="normlite.engine.base.Connection"><span class="pre">Connection</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Engine.raw_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Engine.raw_connection" title="Link to this definition"></a></dt>
<dd><p>Provide the underlying DBAPI connection.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="normlite.engine.base.Inspector">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">normlite.engine.base.</span></span><span class="sig-name descname"><span class="pre">Inspector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#normlite.engine.base.Engine" title="normlite.engine.base.Engine"><span class="pre">Engine</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Inspector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Inspector" title="Link to this definition"></a></dt>
<dd><p>Provide facilities for inspecting database objects.</p>
<p>The <a class="reference internal" href="#normlite.engine.base.Inspector" title="normlite.engine.base.Inspector"><code class="xref py py-class docutils literal notranslate"><span class="pre">Inspector</span></code></a> acts as a proxy for to the classes inspection facilities,
providing a consitent interface.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.7.0.</span></p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="normlite.engine.base.Inspector._engine">
<span class="sig-name descname"><span class="pre">_engine</span></span><a class="headerlink" href="#normlite.engine.base.Inspector._engine" title="Link to this definition"></a></dt>
<dd><p>The engine it connects to.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Inspector.has_table">
<span class="sig-name descname"><span class="pre">has_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Inspector.has_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Inspector.has_table" title="Link to this definition"></a></dt>
<dd><p>Check whether the specified table name exists in the database being inspected.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>table_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – The name of the table to search for.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../../exceptions/index.html#normlite.exceptions.NormliteError" title="normlite.exceptions.NormliteError"><strong>NormliteError</strong></a> – If more than one table with the same name is found in the same catalog (database).</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the table exists, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Inspector.reflect_table">
<span class="sig-name descname"><span class="pre">reflect_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../sql/schema/index.html#normlite.sql.schema.Table" title="normlite.sql.schema.Table"><span class="pre">normlite.sql.schema.Table</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Inspector.reflect_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Inspector.reflect_table" title="Link to this definition"></a></dt>
<dd><p>Construct a table by reflecting it from the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>table</strong> (<a class="reference internal" href="../../sql/schema/index.html#normlite.sql.schema.Table" title="normlite.sql.schema.Table"><em>Table</em></a>) – The table object to reflect.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="../../exceptions/index.html#normlite.exceptions.NormliteError" title="normlite.exceptions.NormliteError"><strong>NormliteError</strong></a> – If more than one table exists in the database or if the table does not exist.</p></li>
<li><p><a class="reference internal" href="../../exceptions/index.html#normlite.exceptions.NormliteError" title="normlite.exceptions.NormliteError"><strong>NormliteError</strong></a> – If an unsupported property type is detected during reflection.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Inspector.get_id">
<span class="sig-name descname"><span class="pre">get_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">has_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../sql/schema/index.html#normlite.sql.schema.HasIdentifier" title="normlite.sql.schema.HasIdentifier"><span class="pre">normlite.sql.schema.HasIdentifier</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Inspector.get_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Inspector.get_id" title="Link to this definition"></a></dt>
<dd><p>Return the Notion object id for the supplied table.</p>
<p>This method takes a <a class="reference internal" href="../../sql/schema/index.html#normlite.sql.schema.HasIdentifier" title="normlite.sql.schema.HasIdentifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">normlite.sql.schema.HasIdentifier</span></code></a> object and returns
the Notion identifier associated with the Notion object.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># reflect the Notion database into a Table object</span>
<span class="n">inspector</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">inspect</span><span class="p">()</span>
<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>
<span class="n">students</span><span class="p">:</span> <span class="n">Table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;students&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
<span class="n">inspector</span><span class="o">.</span><span class="n">reflect_table</span><span class="p">(</span><span class="n">students</span><span class="p">)</span>

<span class="c1"># access the Notion database object identifier</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Object ID: &quot;</span><span class="si">{</span><span class="n">inspector</span><span class="o">.</span><span class="n">get_id</span><span class="p">(</span><span class="n">students</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>     <span class="c1"># uuid string</span>

<span class="c1"># access the Notion property identifier associate to a column</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s1">&#39;Property &quot;</span><span class="si">{</span><span class="n">students</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">student_name</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&quot;: &#39;</span>
    <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">inspector</span><span class="o">.</span><span class="n">get_id</span><span class="p">(</span><span class="n">students</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>                  <span class="c1"># uuid string associated to the property</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.7.0: </span>The current version supports both Notion object and property identifiers.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>table</strong> (<a class="reference internal" href="../../sql/schema/index.html#normlite.sql.schema.Table" title="normlite.sql.schema.Table"><em>Table</em></a>) – The table object to get the object id from.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="normlite.engine.base.Inspector._find_table_in_catalog">
<span class="sig-name descname"><span class="pre">_find_table_in_catalog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="../../../../_modules/normlite/engine/base.html#Inspector._find_table_in_catalog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#normlite.engine.base.Inspector._find_table_in_catalog" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="normlite.engine" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../context/index.html" class="btn btn-neutral float-right" title="normlite.engine.context" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025 -Gianmarco Antonini.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>